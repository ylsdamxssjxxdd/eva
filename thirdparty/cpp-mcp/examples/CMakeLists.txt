cmake_minimum_required(VERSION 3.10)

include_directories(${CMAKE_CURRENT_SOURCE_DIR})

set(TARGET sse_client_example)
add_executable(${TARGET} sse_client_example.cpp)
install(TARGETS ${TARGET} RUNTIME)
target_link_libraries(${TARGET} PRIVATE mcp)
if(OPENSSL_FOUND)
    target_link_libraries(${TARGET} PRIVATE ${OPENSSL_LIBRARIES})
endif()
target_compile_features(${TARGET} PRIVATE cxx_std_17)

add_executable(stdio_client_example stdio_client_example.cpp)
target_link_libraries(stdio_client_example PRIVATE mcp)
target_include_directories(stdio_client_example PRIVATE ${CMAKE_SOURCE_DIR}/include)

set(TARGET server_example)
add_executable(${TARGET} server_example.cpp)
install(TARGETS ${TARGET} RUNTIME)
target_link_libraries(${TARGET} PRIVATE mcp)
if(OPENSSL_FOUND)
    target_link_libraries(${TARGET} PRIVATE ${OPENSSL_LIBRARIES})
endif()
target_compile_features(${TARGET} PRIVATE cxx_std_17)