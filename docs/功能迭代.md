2025年-10月-11日：链接模式输入的 endpoint/key/模型 处理时自动去除空格；将 COMPLETION_ENDPOINT 改为 /v1/completions。
2025年-10月-11日：修复从链接→本地→链接切换后丢失远端配置的问题
2025年-10月-11日：更新开发者说明书，补充约定框架、智能体实现、提示词规范。
2025年-10月-11日：将net中COMPLETION_ENDPOINT 即 /completions改为/v1/completions请求 。
2025年-10月-11日：添加记录点功能：系统/用户/模型/思考/工具色块记录，悬停提示、单击定位、双击编辑，位于输出与输入之间，支持横向滚动无滚动条。
2025年-10月-11日：记录条优化：底色随界面风格绘制；色块溢出时自动滚动至最右；恢复历史会话时重建记录条。
2025年-10月-11日：修复记录条6项问题：调整窗口宽度自适应（RecordBar 自适应、滚动钳制）；点击记录块将角色名置顶并消除多余换行；双击编辑仅替换内容避免重复并保留角色名；编辑后即时持久化到历史（新增 rewriteAllMessages）；流式/工具/重置/历史还原统一在插入标题前创建记录锚点，确保定位准确。
2025-10-12：移除旧装载动画代码，删除 widget_load.cpp，清理相关声明与调用；等待动画已全面替代。
2025年-10月-12日：全局滚动条从16px调至12px，统一更新浅色与绿色主题的水平/垂直滚动条及按钮尺寸与边距。
2025年-10月-12日：模型信息-模型日志替换为带3D神经元背景的日志控件（NeuronLogEdit），参考 CsvTableWidget 绘制逻辑；保留等宽字体与只读、禁断自动换行。
2025年-10月-12日：重构 docs/软件技术说明书.md，结构精炼、分点说明，新增多处流程图（Mermaid）。
2025年-10月-12日：增殖-模型信息动画懒加载；未打开增殖窗口时不启动动画；关闭窗口或切换到其他选项卡时自动暂停以节能。
2025年-10月-12日：机体介绍选项卡新增蓝色EVA风格动画背景控件（IntroAnimEdit），参照 NeuronLogEdit；与模型信息页一致采用懒加载，仅在当前页且窗口可见时运行动画。
2025年-10月-12日：机体介绍动画更新：改为“卡巴拉生命之树”蓝色主题，包含10个Sefirot与路径的发光连线与流光点；保持懒加载与低占用。
2025年-10月-12日：增殖-机体介绍-卡巴拉生命之树连线完善：中间列纵向相连；底部中心与两侧底部相连；左右柱第二与第三球相连。2025年-10月-12日：修复一批编译警告与构建健壮性问题（winsock2/windows.h 包含顺序、QNetworkRequest 跳转策略弃用、更正 QSet 初始化、签名比较、未使用参数、C 源被传入 C++ 标准选项、tinyexpr 误报抑制），并为 mcp 在 Windows 上补充 ws2_32 链接；清理一处错误的 include 行。
2025年-10月-12日：记录条增强：新增微纹理渐变背景；记录块更紧凑（宽12px、间距2px）；整体高度调小（16-24px）。
2025年-10月-13日：后端目录布局修正为 <架构>-<系统>-<设备>-<项目>；实现按 OS 分层的扫描与路径解析；同步更新 README/docs 示例。
2025年-10月-13日：移除后端旧布局回退，统一仅按 <架构>-<系统>-<设备>-<项目> 解析；若目录不存在则视为无后端。
2025年-10月-13日：修复链接模式下记忆量获取与显示：1) 从远端 /v1/models 自动解析最大上下文，2) 解析 usage.prompt_tokens 作为本轮基线，优化 KV 进度条。
2025年-10月-13日：修复链接模式更改 endpoint/key/model 后仍使用旧参数；发送前自动刷新并下发到 xNet。
2025年-10月-13日：xNet::recv_apis 支持热更新，参数变更时中止当前请求并重置状态，确保下一次请求用新端点/密钥/模型。
2025年-10月-13日：链接模式修改 endpoint/key/model 后立即重置 slotCtxMax_ 并重新探测 /v1/models，记忆容量及时更新。
2025年-10月-13日：链接模式支持推理流：解析 SSE 中的 reasoning/reasoning_content 字段，UI 以 <think> 区域灰色流式展示，并在正式内容开始或结束时自动闭合。
2025年-10月-13日：链接模式记忆累计：使用 usage.prompt_tokens 作为本轮基线，并将其叠加到已有用量；流式输出追加本轮已生成 token，跨轮按累计总量显示。
2025年-10月-13日：工具调用停止符不再硬中止网络请求：检测到 </tool_call> 后保留连接，等待 SSE 尾部的 usage/timings/[DONE]，确保速度与记忆修正信息完整；仅用户主动停止才中止。
2025年-10月-13日：链接模式最大上下文探测：/v1/models 未获取到时回退请求 GET /props，从 default_generation_settings.n_ctx 读取最大记忆量。
2025年-10月-13日：链接模式修改 endpoint/key/model 后：立即清空记忆计数与对话消息（ui_messagesArray），重置 slot/id，并重新探测最大上下文；进度条归零。
2025年-10月-13日：链接模式工具回合兼容：发送请求前将历史 role=tool 消息转换为 role=user，并在内容前加前缀“tool_response: ”，避免部分提供方（如 OpenRouter/xAI）对工具消息的 422 校验错误。
2025-10-13：修复高优先隐患：SSE CRLF 分包兼容；同一事件多 data 行聚合后一次解析。
2025-10-13：超时策略优化：readyRead 时刷新 120s 无活动守护；关闭 QNetworkRequest 60s 传输超时。
2025-10-13：降噪：流式片段 JSON 解析失败改为调试日志，不再刷 UI 错误行。
2025-10-13：兼容性：仅对本地 llama.cpp 端点发送 top_k/repeat_penalty；temperature 钳制到 [0,2]。
2025年-10月-13日：SSE 解析优化：仅对新增数据标准化并加入 4MB 缓冲上限；思考区块显示健壮化：支持单个分片内多次 <think> 起止并分色输出；清理冗余：移除未使用的 JSON 抽取函数与无效变量。
2025年-10月-13日：知识库上传支持多文件与多格式（txt/md/docx）；解析后自动分块填充待嵌入区；新增 docparser 模块
2025年-10月-13日：修复 xNet 停止逻辑：收到 ui2net_stop 立即 abortActiveReply，确保‘重置/停止’一键即刻终止当前 SSE 请求。
2025年-10月-13日：修复 Linux 后端发现逻辑：优先识别 AppImage APPDIR 下 usr/bin/EVA_BACKEND，缺省回落至与可执行同级；解决在 Linux 下路径正确却无法定位 llama-server 的问题。
2025年-10月-14日：装载按钮改为弹出模式选择（本地/链接），上下结构排布，紧凑设计且无取消按钮。
2025年-10月-14日：修复后端可执行发现：llama-quantize 改为通过 DeviceManager 在 EVA_BACKEND 下按 <arch>/<os>/<device> 解析；为 llama-quantize/llama-tts 扩展 project 映射；TTS 未找到时输出搜索根与设备提示。
2025年-10月-14日：新增“模型评估”选项卡：展示当前模型与端点信息，支持一键评估；评估维度包含首次响应延迟、上文处理速度、生成速度、常识问答命中率、工具调用（calculator）；完成后计算综合得分并输出日志
2025年-10月-14日：模型评估改版：合并“步骤进度/分项结果”为单表；进度条按细分单元对齐真实进度（QA 分题计入）；评分可视化改柱状图；“综合评分”改为“同步率”（正确项/总项%）；日志增强（步骤、模型回复、标准答案、判定、工具调用问题）。
2025年-10月-14日：AppImage 后端查找增强：支持将 EVA_BACKEND 放在 .AppImage 同目录；优先顺序为 APPDIR/usr/bin/EVA_BACKEND → APPDIR/EVA_BACKEND → 程序同级 → .AppImage 同级 → 当前工作目录；新增环境变量 EVA_BACKEND_ROOT 手动指定根目录；缺失时错误信息会列出已探测路径。
2025年-10月-14日：修复关闭程序时报错“QThread: Destroyed while thread is still running”：为“模型评估”专用线程添加优雅退出（stop→quit→wait，超时后终止），并在应用退出/窗口关闭时统一清理；同时在线程结束时在其线程内安全销毁 xNet。
2025年-10月-14日：模型评估重构为5大步：首次响应/生成速度/常识问答/逻辑推理/工具调用
2025年-10月-14日：模型评估-评估日志控件新增橙黄同步率线条动画背景（EvalLogEdit），参考 CsvTableWidget/NeuronLogEdit；与模型信息一致采用懒加载；黑底边缘+ - 号及刻度。
2025年-10月-15日：评估日志动画优化——移除正弦管道线（仅保留黑底、刻度与加减号叠加层），降低视觉干扰与CPU开销。
2025-10-15：后端发现逻辑优化：自动模式按系统能力过滤 cuda/vulkan；本地后端可执行缺失时按 cuda→vulkan→opencl→cpu 逐级回退；新增 Win7/8 检测，优先使用 EVA_BACKEND/<arch>/win7，无则回退 win。
2025年-10月-15日：修复评估页“常识问答/逻辑推理”用时显示总为0的问题，调整计时记录顺序，避免在切换到下一阶段时被重置。
2025年-10月-16日：模型评估-常识问答/逻辑推理/工具调用均新增调试日志：打印模型思考过程(<think>区块)与最终输出；常识与逻辑判定优先基于输出区文本；工具调用从输出区提取 <tool_call> JSON 进行判定，便于定位不一致问题。
2025-10-16：模型评估-日志改进：常识问答/逻辑推理/工具调用在每题开始即打印题目/任务，避免只在收尾一次性输出
2025-10-16：模型评估-表格： 值列取消底色填充；柱状图配色调整：同步率橙色，其它蓝色；分值低于60为灰色
2025年-10月-16日：模型评估-交互：点击“评估”后禁用按钮，评估结束/点击“停止”/中途报错后自动恢复可点击，避免重复触发。
2025年-10月-16日：模型评估-生成速度：评估完成后在日志打印实际速度（优先 tok/s；无则估算；同时打印用时）。
2025年-10月-16日：设置-推理设备选择为 auto 时，预览与禁用逻辑改为真实自动探测：不再受上一次手动选择影响；标签显示 auto(实际后端)，并依据解析结果启用/禁用 GPU 层数滑块。
2025年-10月-16日：重设模型评估界面 eval_progressBar 的蓝色质感样式（圆角、深浅渐变、光泽效果），提升可读性与一致性。
2025年-10月-16日：评估日志可读性优化：各步骤开始前与关键输出后追加空行；QA/逻辑/工具的每个条目之间增加空行分隔。2025年-10月-16日：修复工具调用日志重复标题；每个用例仅在开始打印一次标题，结果部分不再重复标题。
2025年-10月-16日：模型评估：全面接入 jtr 双语（中/英）；移除控件与日志中的中文硬编码；补齐评分图表与表头翻译；新增语言词条。
2025年-10月-16日：补充 软件技术说明书.md：新增 模型评估 实现原理与评分细则章节
2025年-10月-16日：修复 AppImage 桌面快捷方式无效：.desktop 的 Exec 改为指向 APPIMAGE 并加引号，Categories 以分号结尾；非打包版 Exec 指向 QCoreApplication::applicationFilePath()；Name 固定为 eva。
2025-10-16: Persist local image file paths in history; restore images on session load; warn when files are missing. Also persist tool-generated image paths.
2025年-10月-16日：生成速度阶段结束后不再被后续阶段的速度回调污染，柱状图不再在QA/逻辑/工具评估时跳动；同时在每次生成速度测试前重置计数器与计时点，避免跨轮干扰。
2025年-10月-16日：模型评估-柱状图质感优化：添加蓝系渐变与顶部高光、细栅格背景，保持与主体一致的EVA风格。
2025年-10月-16日：模型评估：工具调用题量翻倍（6→12）；出题改为场景化不点名工具，评分仅在正确工具被调用时计分；更新双语文案。
2025年-10月-16日：修复文转声系统声源无发声。连接 net→Expend 流式输出；过滤<think>区不朗读；回合结束冲刷尾段，确保无标点结尾也能播报。
2025年-10月-16日：文生图重构：新增“SD 高级设置”弹窗（QWidget），集中配置所有模型路径与后端参数；预置模板收敛为 flux1-dev / qwen-image / sd1.5-anything-3 + 自定义2套；支持 Qwen-Image（--qwen2vl、--diffusion-fa、--flow-shift 3）与 Flux（--diffusion-model）等；统一参数落盘与恢复。
2025年-10月-16日：UI 精简：增殖-文生图页面隐藏旧“路径设置/参数设置”面板，仅保留“高级设置...”弹窗入口，避免重复与冗长配置。
2025年-10月-16日：文生图预设完全隔离；移除高级设置的 Apply/取消 按钮；所有参数与路径改为即时保存（按预设独立存盘）。
2025年-10月-16日：新增文生图预设：wan2.2（视频生成），默认 480x832、CFG 6.0、euler、Flow-Shift 3.0、Diffusion-FA/CPU offload 开启、video-frames 33；支持 I2V（选择底图即可）。
2025年-10月-16日：移除文生图旧面板（路径/参数组）：删除相关槽函数和变量，统一在‘高级设置…’中配置；主界面仅保留提示词/结果/日志与图生图入口。
2025年-10月-16日：文生图/图生图合并为单一“生成”按钮：存在底图即 I2V，否则 T2I；按钮状态沿用 stop 切换。
2025-10-16：文生图：新增图片上传控件（替换 sd_img2img_lineEdit），支持点击/拖拽上传并在区域内预览显示；同时对 img2img 参数传递做了适配。
2025年-10月-16日：文生图结果区重构为 QWidget，并支持视频播放（avi/mp4）。在生成视频时自动以 .avi 输出并内嵌播放器展示；兼容 sd_output-*.avi 自动发现。
2025年-10月-16日：上传图像区域复用结果项的关闭按钮设计：顶部标题栏显示文件名，提供关闭按钮以清除已选图片。
2025年-10月-17日：修复文转声声源列表为空；默认提供 outetts 并枚举系统语音；首次启动自动套用 EVA_MODELS 下的 OuteTTS/WavTokenizer 路径。
2025年-10月-17日：文生图高级设置新增 --qwen2vl_vision 路径项，位于 --qwen2vl 下方；保存/预设/命令行已接入。
2025年-10月-17日：修复 Linux 下 main.cpp 创建 .desktop 文本的转义与占位符错误；改用 QStringLiteral 与 %1/%2/%3 + .arg 生成，避免 stray '\' 与 operator% 报错。
2025年-10月-17日：MinGW + BODY_PACK 默认跳过 windeployqt（新增 CMake 选项 BODY_SKIP_WINDEPLOYQT，MinGW 下默认 ON；MSVC 下默认 OFF）。
2025年-10月-17日：MinGW 默认静态编译时不再复制 libgcc/libstdc++/winpthread；新增选项 BODY_COPY_MINGW_RUNTIME 控制是否复制。2025年-10月-17日：Linux 下可执行文件名固定为 eva；AppImage 输出名改为 \.appimage\（如 eva-b6746-x86.appimage）。
2025年-10月-17日：修复重置误删目录：TTS 重置时未初始化 outettsDir 导致 removeDir(") 递归删除当前工作目录（Windows 会删同级 .appimage，Linux AppImage 可能删整个运行目录）。现已将 outettsDir 固定到 EVA_TEMP/tts 并增加路径保护（仅允许删除 EVA_TEMP 下目录）。
2025年-10月-17日：单实例化：同一路径只允许运行一个 eva 进程；再次启动时仅激活已打开窗口（基于 QLocalServer/QLocalSocket）。
2025年-10月-17日：优化文生图参数设置中 VAE tiling 控件布局：复选框单独一行，下方合并 Tile X/Y 与 Overlap，并跟随开关启用/禁用。
2025年-10月-17日：优化工具调用解析，移除<think>片段，仅保留最后有效<tool_call> JSON，并增强空白与代码块清理。
2025年-10月-17日：新增终端区与状态区并列，支持拖动分隔；工具命令流式落地到终端视图，用户可实时观察并Ctrl+C中断。
2025年-10月-17日：execute_command 工具改为流式执行与终端同步输出，保留最后一份 JSON 给模型回传并兜底空输出提示。
2025年-10月-17日：终端区切换为黑底绿字主题，默认折叠并在命令行工具调用时自动弹出显示运行细节。
2025年-10月-17日：终端区手动命令同步工程师工作目录，命令提示与执行路径统一。
2025年-10月-17日：工具输出增加统一截断，超过256KB仅保留首尾内容并附提示说明。
2025年-10月-17日：edit_file 工具新增空白容错匹配和多次替换自适应，弱模型调用成功率提升。
2025年-10月-17日：终端面板输出改为定时批量刷新并增加内容裁剪，避免长日志拖慢界面表现。
2025年-10月-18日：终端面板支持向运行中进程发送输入，date 等交互式命令可继续操作。
2025年-10月-18日：主界面分割器悬停时显示蓝色高亮，保持其余样式一致。
2025年-10月-18日：重构工具执行为异步流程，重置时立即中断并忽略未完成输出。
2025年-10月-18日：软件工程师 search_content 工具支持上下文分组输出与逐行展示，并对结果数量与输出体积进行限制提示。
2025年-10月-19日：优化软件工程师提示词，补充项目上下文与目录总览，约束最终回复仅归纳修改思路不贴详细代码。
2025年-10月-19日：精简软件工程师 search_content 工具输出，保留搜索摘要并按文件集中列出匹配行号与内容，省去上下文分隔与高亮。
2025年-10月-19日：search_content 仅扫描常见文本扩展名及少量配置文件，自动跳过 obj 等二进制文件，减少无效遍历。
2025年-10月-19日：调整工具执行阶段的等待动画，将转轮固定在 tool:execute_command 状态行并在工具返回后收尾。
2025年-10月-19日：为工具调用链补充单元与功能测试，覆盖计算、知识、图像、文件、MCP等流程
2025年-10月-19日：清理xtool.cpp冗余空行，统一函数内行距。
2025年-10月-19日：重构软件技术说明书结构，按逻辑章节梳理架构、工作流、安全与部署，并补充终端面板、工程师工作目录、历史管理与自动嵌入服务说明。
2025年-10月-19日：增殖-MCP服务器页支持逐项开关并仅注入已启用工具定义，移除 mcp_tools_list 内置调用，重置后自动同步最新配置。
2025年-10月-19日：增殖-MCP服务器页新增“刷新”“断开”按钮，可手动同步工具列表并一键断开所有服务。
2025年-10月-19日：MCP服务器连接按钮加入等待进度条，链接期间提示用户正在处理。
2025年-10月-19日：MCP工具提示词剔除多余字段（additionalProperties、$schema 等），保持 schema 精简。
2025年-10月-19日：MCP服务面板支持按服务展开，服务/工具开关联动管理提示词注入。
2025年-10月-19日：MCP 服务配置支持新版 type/baseUrl/headers 结构，并同步更新增殖示例。
2025年-10月-20日：捕获 MCP SSE 初始化异常，避免链接失败时未处理异常导致程序退出。
2025年-10月-20日：恢复知识库嵌入服务日志监听并修复待嵌入表格右键菜单，确保模型日志与段落操作正常。
2025年-10月-20日：压缩 prompt.h 中所有工具 JSON-Schema 的格式，移除多余换行与缩进。
2025年-10月-20日：鼠标键盘工具JSON Schema改为原始字符串字面量，移除多余转义符。
2025年-10月-20日：修复约定窗口挂载多个工具时仅首个被持久化的问题，统一保存与恢复多选状态并同步附加提示词。
2025年-10月-21日：约定窗口新增技能挂载区，支持拖拽导入技能包并自动注入技能提示。
2025年-10月-21日：整合miniz用于技能包解压并改为异步导入，避免拖拽上传时界面卡顿。
2025年-10月-21日：技能卡片悬停显示元数据描述，并在提示词注入中附带技能元数据。
2025年-10月-21日：内置工程师技能包随工具启用时自动部署至EVA_SKILLS，默认保持禁用状态，并修复技能开关初始位置。
2025年-10月-21日：技能面板增加滚动区域并压缩卡片布局，便于浏览内置技能列表。
2025年-10月-21日：精简技能提示内容，避免重复描述并统一放置于提示末尾。
2025年-10月-21日：修复增删技能后其他已启用技能被重置为关闭的缺陷。
2025年-10月-21日：完善软件技术说明书，补充技能规范、导入流程与提示块注入机制。
2025年-10月-22日：工具调用解析在缺失或损坏<tool_call>标签时回退扫描JSON，提升模型兼容性。
2025年-10月-22日：在工具协议模板中明确JSON转义规则，防止模型输出非法工具调用。
2025年-10月-22日：重置时刷新软件工程师工作区快照，确保系统提示反映当前文件结构。
2025年-10月-22日：模型评估界面焕新：加入指标概览卡片、统一蓝橙配色、优化表格与日志观感并实时高亮核心指标。
2025年-10月-22日：模型评估页评估按钮合并为单键，运行中自动改为"停止"以便快速中止。
